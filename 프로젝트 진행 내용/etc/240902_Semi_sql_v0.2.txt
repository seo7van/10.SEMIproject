CREATE TABLE "USER" (
	"ID"	VARCHAR2(12)		NOT NULL,
	"USER_NO"	NUMBER	DEFAULT 1	NOT NULL,
	"PASSWORD"	VARCHAR2(20)		NOT NULL,
	"NAME"	VARCHAR2(15)		NOT NULL,
	"EMAIL"	VARCHAR2(50)		NOT NULL,
	"PHONE"	VARCHAR2(11)		NOT NULL,
	"IS_RECEPTION"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"IS_SNS_LOGIN"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"TYPE"	NUMBER(1)		NOT NULL,
	"CREATED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"IS_WITHDRAW"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"WITHDRAW_DATE"	DATE	DEFAULT NULL	NULL
);

COMMENT ON COLUMN "USER"."ID" IS '사용자 아이디 (이메일과 겸용 가능)';

COMMENT ON COLUMN "USER"."USER_NO" IS '시퀀스를 사용해서 증가';

COMMENT ON COLUMN "USER"."PASSWORD" IS '사용자 패스워드';

COMMENT ON COLUMN "USER"."NAME" IS '사용자 이름 (5자까지)';

COMMENT ON COLUMN "USER"."EMAIL" IS '사용자 이메일 (아이디로 겸용 가능)';

COMMENT ON COLUMN "USER"."PHONE" IS '사용자 전화번호 (전화번호 인증 기능 추가로 필수)';

COMMENT ON COLUMN "USER"."IS_RECEPTION" IS '사용자가 이메일, 전화번호 등으로 행사정보 등을 받는다는 동의 여부';

COMMENT ON COLUMN "USER"."IS_SNS_LOGIN" IS '사용자의 SNS 계정 로그인 여부';

COMMENT ON COLUMN "USER"."TYPE" IS '사용자 계정 타입 [0: 관리자 / 1: 기획자 / 2: 사업자 / 3: 일반 사용자]';

CREATE TABLE "EVENT" (
	"EVENT_NO"	NUMBER		NOT NULL,
	"ID"	VARCHAR2(12)		NOT NULL,
	"NAME"	VARCHAR2(15)		NOT NULL,
	"TITLE"	VARCHAR2(90)		NOT NULL,
	"COMPANY"	VARCHAR2(30)		NOT NULL,
	"CONTENT"	VARCHAR2(1000)		NOT NULL,
	"START_DATE"	DATE		NOT NULL,
	"END_DATE"	DATE		NOT NULL,
	"OPEN_TIME"	VARCHAR2(4)		NOT NULL,
	"CLOSE_TIME"	VARCHAR2(4)		NOT NULL,
	"TYPE"	VARCHAR2(1)	DEFAULT P	NOT NULL,
	"TAG1"	VARCHAR2(20)		NULL,
	"TAG2"	VARCHAR2(20)		NULL,
	"TAG3"	VARCHAR2(20)		NULL,
	"TAG4"	VARCHAR2(20)		NULL,
	"TAG5"	VARCHAR2(20)		NULL,
	"CREATED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"IS_DELETED"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"DELETED_DATE"	DATE		NULL
);

COMMENT ON COLUMN "EVENT"."ID" IS '사용자 아이디 (이메일과 겸용 가능)';

CREATE TABLE "REVIEW" (
	"NO"	NUMBER		NOT NULL,
	"EVENT_NO"	NUMBER		NOT NULL,
	"ID"	VARCHAR2(12)		NOT NULL,
	"RATE"	NUMBER(1)		NOT NULL,
	"CREATED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"IS_DELETED"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"DELETED_DATE"	DATE		NULL
);

COMMENT ON COLUMN "REVIEW"."ID" IS '사용자 아이디 (이메일과 겸용 가능)';

CREATE TABLE "FAQ" (
	"NO"	NUMBER		NOT NULL,
	"ID"	VARCHAR2(12)		NOT NULL,
	"QUESTION"	VARCHAR2(50)		NOT NULL,
	"ANSWER"	VARCHAR2(400)		NOT NULL,
	"CREATED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"MODIFIED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"DELETED_DATE"	DATE		NULL
);

COMMENT ON COLUMN "FAQ"."ID" IS '사용자 아이디 (이메일과 겸용 가능)';

CREATE TABLE "SUPPORT" (
	"NO"	NUMBER		NOT NULL,
	"ID"	VARCHAR2(12)		NOT NULL,
	"TITLE"	VARCHAR2(50)		NOT NULL,
	"CONTENT"	VARCHAR2(4000)		NOT NULL,
	"TYPE"	NUMBER(1)		NOT NULL,
	"CREATED_DATE"	DATE	DEFAULT SYSDATE	NOT NULL,
	"IS_DELETED"	NUMBER(1)	DEFAULT 0	NOT NULL,
	"DELETED_DATE"	DATE		NULL
);

COMMENT ON COLUMN "SUPPORT"."ID" IS '사용자 아이디 (이메일과 겸용 가능)';

ALTER TABLE "USER" ADD CONSTRAINT "PK_USER" PRIMARY KEY (
	"ID"
);

ALTER TABLE "EVENT" ADD CONSTRAINT "PK_EVENT" PRIMARY KEY (
	"EVENT_NO",
	"ID"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "PK_REVIEW" PRIMARY KEY (
	"NO",
	"EVENT_NO",
	"ID"
);

ALTER TABLE "FAQ" ADD CONSTRAINT "PK_FAQ" PRIMARY KEY (
	"NO",
	"ID"
);

ALTER TABLE "SUPPORT" ADD CONSTRAINT "PK_SUPPORT" PRIMARY KEY (
	"NO",
	"ID"
);

ALTER TABLE "EVENT" ADD CONSTRAINT "FK_USER_TO_EVENT_1" FOREIGN KEY (
	"ID"
)
REFERENCES "USER" (
	"ID"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "FK_EVENT_TO_REVIEW_1" FOREIGN KEY (
	"EVENT_NO"
)
REFERENCES "EVENT" (
	"EVENT_NO"
);

ALTER TABLE "REVIEW" ADD CONSTRAINT "FK_USER_TO_REVIEW_1" FOREIGN KEY (
	"ID"
)
REFERENCES "USER" (
	"ID"
);

ALTER TABLE "FAQ" ADD CONSTRAINT "FK_USER_TO_FAQ_1" FOREIGN KEY (
	"ID"
)
REFERENCES "USER" (
	"ID"
);

ALTER TABLE "SUPPORT" ADD CONSTRAINT "FK_USER_TO_SUPPORT_1" FOREIGN KEY (
	"ID"
)
REFERENCES "USER" (
	"ID"
);

